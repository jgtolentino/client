import{j as e}from"./ui-vendor-DFluZlcK.js";import{r as x}from"./react-vendor-7S4FQL_3.js";import{u,C as g,a as p,S as f,b,c as y,B as w}from"./index-3kicyIA1.js";import{u as j,I as N,T as v,v as D,w as $,n as B,x as C}from"./icon-vendor-BiN7dS6p.js";import"./query-vendor-M5hTytP1.js";import"./util-vendor-B2rm_Apj.js";function I(t,o){const i=[];if(t.brandData&&t.brandData.length>0){const n=t.brandData[0],s=t.brandData[t.brandData.length-1];n.growth>10&&i.push({id:"brand-growth",type:"info",icon:v,title:`${n.brand} Leading Growth`,description:`${n.brand} shows ${n.growth}% growth. Recommend expanding shelf space and running promotional campaigns.`,impact:"high",action:"Increase inventory by 20%"}),s.growth<-5&&i.push({id:"brand-decline",type:"warning",icon:D,title:`${s.brand} Needs Attention`,description:`${s.brand} declined ${Math.abs(s.growth)}%. Consider repositioning or promotional support.`,impact:"medium",action:"Review pricing strategy"})}if(t.categoryData&&t.categoryData.length>0){const n=t.categoryData[0];i.push({id:"category-focus",type:"info",icon:$,title:`${n.category} Dominates Sales`,description:`${n.category} represents ${n.percentage}% of sales. Optimize product mix within this category.`,impact:"high",action:"Expand SKU variety"})}if(t.consumerProfilingData&&t.consumerProfilingData.length>10){const n=t.consumerProfilingData.reduce((s,r)=>s+r.age,0)/t.consumerProfilingData.length;i.push({id:"consumer-insight",type:"info",icon:B,title:`Target Demographics: Age ${Math.round(n)}`,description:`Average consumer age is ${Math.round(n)}. Tailor product placement and promotions to this demographic.`,impact:"medium",action:"Adjust marketing materials"})}return(o==null?void 0:o.location)!=="All Locations"&&i.push({id:"location-specific",type:"info",icon:C,title:`${o.location} Location Analysis`,description:`Viewing data specific to ${o.location}. Consider local preferences in your strategy.`,impact:"medium",action:"Implement local promotions"}),i.slice(0,3)}function M({filters:t}){const{aiInsights:o,brandData:i,categoryData:n,consumerProfilingData:s,isLoading:r}=u(),d=x.useMemo(()=>r?[]:I({brandData:i,categoryData:n,consumerProfilingData:s},t),[i,n,s,t,r]);if(r)return e.jsx(g,{className:"mt-6",children:e.jsx(p,{className:"p-6",children:e.jsx(f,{className:"h-64 w-full"})})});const m=a=>{switch(a){case"error":return{border:"border-l-red-500",bg:"bg-red-50",iconBg:"bg-red-500",buttonBg:"bg-red-500 hover:bg-red-600"};case"warning":return{border:"border-l-yellow-500",bg:"bg-yellow-50",iconBg:"bg-yellow-500",buttonBg:"bg-yellow-500 hover:bg-yellow-600"};case"info":default:return{border:"border-l-blue-600",bg:"bg-blue-50",iconBg:"bg-blue-600",buttonBg:"bg-blue-600 hover:bg-blue-700"}}},l=d.length>0?d:o;return e.jsxs(g,{className:"shadow-sm border border-gray-200 h-full",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0",style:{padding:"12px 20px",height:"48px"},children:[e.jsxs(y,{className:"font-semibold flex items-center",style:{fontSize:"16px",gap:"8px"},children:[e.jsx(j,{className:"text-yellow-500",style:{width:"20px",height:"20px"}}),"AI Recommendation Panel"]}),e.jsxs("div",{className:"flex items-center",style:{gap:"8px"},children:[e.jsxs("span",{className:"relative flex",style:{height:"8px",width:"8px"},children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full bg-green-500",style:{height:"8px",width:"8px"}})]}),e.jsx("span",{className:"text-muted-foreground",style:{fontSize:"12px"},children:"Live insights"})]})]}),e.jsx(p,{style:{padding:"16px 20px",height:"calc(100% - 48px)"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",height:"100%"},children:l==null?void 0:l.map(a=>{const h=a.icon||N,c=m(a.type);return e.jsx("div",{className:`border-l-4 ${c.border} ${c.bg} rounded-lg shadow-sm hover:shadow-md transition-shadow h-full`,style:{padding:"12px"},children:e.jsxs("div",{className:"flex items-start h-full",style:{gap:"12px"},children:[e.jsx("div",{className:`${c.iconBg} rounded-lg flex items-center justify-center flex-shrink-0`,style:{width:"36px",height:"36px"},children:e.jsx(h,{className:"text-white",style:{width:"20px",height:"20px"}})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("h4",{className:"font-semibold text-gray-900",style:{fontSize:"14px",marginBottom:"4px"},children:a.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed flex-1",style:{fontSize:"12px",marginBottom:"8px"},children:a.description}),a.action&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-500",style:{fontSize:"11px"},children:"Action:"}),e.jsx(w,{size:"sm",variant:"ghost",style:{fontSize:"11px",height:"24px",padding:"0 8px"},children:a.action})]})]})]})},a.id)})})})]})}export{M as default};
