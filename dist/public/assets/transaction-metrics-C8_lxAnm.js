import{j as e}from"./ui-vendor-DFluZlcK.js";import{r as m}from"./react-vendor-7S4FQL_3.js";import{u as g,C as d,a as o,b as h,c as u}from"./index-Qmr7BsAC.js";import{c as f,P as r}from"./data-calculations-Dq9fJo8x.js";import{c as n}from"./format-utils-bn6WP3J2.js";import{A as j,l as y,P as N,e as v}from"./icon-vendor-BiN7dS6p.js";import"./query-vendor-M5hTytP1.js";import"./util-vendor-B2rm_Apj.js";function B(){const{dashboardData:l,isLoading:c}=g(),s=m.useMemo(()=>!l||!l.transaction_trends?null:f(l.transaction_trends),[l]);if(c)return e.jsx(d,{className:"h-full",children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})});const x=(s==null?void 0:s.avgDuration)||85,p=(s==null?void 0:s.avgUnits)||3.2,a=(s==null?void 0:s.durationDistribution)||{quick:150,normal:280,long:70},i=(s==null?void 0:s.weekendVsWeekday)||{weekend:{percentage:30,avgValue:1950},weekday:{percentage:70,avgValue:1820}},t=a.quick+a.normal+a.long;return e.jsxs(d,{className:"h-full",children:[e.jsx(h,{style:{padding:"16px 20px",paddingBottom:"12px"},children:e.jsxs(u,{className:"flex items-center",style:{fontSize:"16px",gap:"8px"},children:[e.jsx(j,{style:{width:"20px",height:"20px"}}),"Transaction Metrics"]})}),e.jsxs(o,{style:{padding:"16px 20px",paddingTop:"8px"},children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",style:{marginBottom:"16px"},children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg",style:{padding:"12px"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",style:{fontSize:"11px"},children:"Avg Duration"}),e.jsx(y,{className:"text-blue-600",style:{width:"16px",height:"16px"}})]}),e.jsxs("p",{className:"font-bold text-blue-700",style:{fontSize:"24px",marginTop:"4px"},children:[Math.round(x),"s"]}),e.jsx("p",{className:"text-blue-600",style:{fontSize:"10px"},children:"Per transaction"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg",style:{padding:"12px"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-green-700",style:{fontSize:"11px"},children:"Avg Units"}),e.jsx(N,{className:"text-green-600",style:{width:"16px",height:"16px"}})]}),e.jsx("p",{className:"font-bold text-green-700",style:{fontSize:"24px",marginTop:"4px"},children:p.toFixed(1)}),e.jsx("p",{className:"text-green-600",style:{fontSize:"10px"},children:"Items per basket"})]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("h4",{className:"font-medium",style:{fontSize:"13px",marginBottom:"8px"},children:"Transaction Duration Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",style:{fontSize:"11px",marginBottom:"2px"},children:[e.jsxs("span",{children:["Quick (","<","1 min)"]}),e.jsxs("span",{children:[n(a.quick/t*100,0),"%"]})]}),e.jsx(r,{value:a.quick/t*100,className:"h-2",style:{backgroundColor:"#e0e7ff"}})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",style:{fontSize:"11px",marginBottom:"2px"},children:[e.jsx("span",{children:"Normal (1-3 min)"}),e.jsxs("span",{children:[n(a.normal/t*100,0),"%"]})]}),e.jsx(r,{value:a.normal/t*100,className:"h-2",style:{backgroundColor:"#e0e7ff"}})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",style:{fontSize:"11px",marginBottom:"2px"},children:[e.jsxs("span",{children:["Long (",">","3 min)"]}),e.jsxs("span",{children:[n(a.long/t*100,0),"%"]})]}),e.jsx(r,{value:a.long/t*100,className:"h-2",style:{backgroundColor:"#e0e7ff"}})]})]})]}),e.jsxs("div",{className:"border-t",style:{paddingTop:"12px"},children:[e.jsxs("h4",{className:"font-medium flex items-center",style:{fontSize:"13px",marginBottom:"8px",gap:"4px"},children:[e.jsx(v,{style:{width:"14px",height:"14px"}}),"Weekend vs Weekday Performance"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"border rounded-lg",style:{padding:"8px"},children:[e.jsx("p",{className:"font-medium",style:{fontSize:"12px"},children:"Weekday"}),e.jsxs("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:[n(i.weekday.percentage,0),"% of sales"]}),e.jsxs("p",{className:"font-semibold",style:{fontSize:"14px",marginTop:"4px"},children:["₱",i.weekday.avgValue.toLocaleString()]}),e.jsx("p",{className:"text-muted-foreground",style:{fontSize:"9px"},children:"avg transaction"})]}),e.jsxs("div",{className:"border rounded-lg",style:{padding:"8px"},children:[e.jsx("p",{className:"font-medium",style:{fontSize:"12px"},children:"Weekend"}),e.jsxs("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:[n(i.weekend.percentage,0),"% of sales"]}),e.jsxs("p",{className:"font-semibold",style:{fontSize:"14px",marginTop:"4px"},children:["₱",i.weekend.avgValue.toLocaleString()]}),e.jsx("p",{className:"text-muted-foreground",style:{fontSize:"9px"},children:"avg transaction"})]})]})]})]})]})}export{B as default};
